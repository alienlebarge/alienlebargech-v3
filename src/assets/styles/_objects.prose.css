/* ==========================================================================
   #PROSE
   ========================================================================== */

/**
 * Prose is a scope for linear text.
 */

.o-prose {
    --flow-space: var(--line-height-loose);
    --flow-inset: 1.5em;
    --list-display: list-item;
    --anchor-decoration: underline;
    font-size: var(--font-size-body);
    font-weight: var(--font-weight-body, inherit);
}

/**
 * Images are not included because because they are fluid by default
 * (`max-width: 100%;`). This is defined in the element style. And we do not
 * want to override it.
 */
.o-prose *:not(img) {
    max-inline-size: var(--line-measure);
}

.o-prose p {
    line-height: var(--line-height-loose);
    hyphenate-limit-chars: 6 3 2;
    hyphenate-limit-last: always;
    hyphenate-limite-lines: 2;
    hyphenate-limite-zone: 8%;
    hyphens: auto;
}



/* -------------------------------------
   #HEADINGS
   ------------------------------------- */

.o-prose h2 {
    @extend %heading;

    margin-block-end: var(--s-2);
}

.o-prose h3 {
    @extend %subhead;

    margin-block-end: var(--s-3);
}

.o-prose :matches(h4, h5, h6) {
    @extend %overline;

    margin-block-end: var(--s-4);
}

.o-prose * + h2 {
    margin-block-start: var(--s2);
}

.o-prose * + :matches(h3, h4) {
    margin-block-start: var(--s0);
}



/* -------------------------------------
   #LISTS
   ------------------------------------- */
.o-prose :--list {
    padding-inline-start: 0;
}

.o-prose :--list :--list {
    padding-inline-start: var(--flow-inset);
}



/* -------------------------------------
   #EMBED
   ------------------------------------- */

.o-prose figcaption {
    @extend %caption;
    margin-block-end: var(--flow-space);
    padding-block-start: var(--s-2);
}
