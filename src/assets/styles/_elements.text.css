/* ==========================================================================
   #TEXT
   ========================================================================== */

/**
 * Text-level semantics
 *
 * https://w3c.github.io/html/textlevel-semantics.html
 */

/* ==========================================================================
   #A
   ========================================================================== */

a {
    color: var(--anchor-color, inherit);
    text-decoration-color: var(--anchor-decoration-color, inherit);
    text-decoration-line: var(--anchor-decoration-line, underline);
    text-decoration-skip-ink: auto;
    text-underline-offset: var(--anchor-decoration-offset, var(--space-3xs));
    transition: all var(--transition-short);
}

a:hover,
a:active {
    color: var(--anchor-color-hover, inherit);
    text-decoration-color: var(--anchor-decoration-color-hover, transparent);
}

/**
 * Instead of using a `class="is-current"`, there is an accessible way of doing
 * it.
 * https://tink.uk/using-the-aria-current-attribute/
 *
 * 1. Remove underline
 */

a[aria-current] {
    font-weight: 800;
    font-variation-settings: "wght" 800;
}





/***
 * Focus
 */
a:focus,
a:focus-within {
    outline-color: var(--color-focus);
    outline-offset: .25em;
    outline-style: solid;
    outline-width: var(--border-width-thick);
}





/* -------------------------------------
   #EM
   ------------------------------------- */

/***
 * 1. Necessary to prevent Safari & Firefox from adding a faux-italic slant
 */

em {
    font-style: italic; /* [1] */
}





/* -------------------------------------
   #STRONG
   ------------------------------------- */

strong {
    font-weight: var(--font-weight-strong, 800);
    font-variation-settings: "wght" var(--font-weight-strong, 800);
}





/* -------------------------------------
   #ABBR
   ------------------------------------- */

/**
 * Better abbr
 *
 * 1. Make <abbr> more readable.
 *    see https://practice.typekit.com/lesson/caring-about-opentype-features/
 * 2. Safari iOs doesn't support font-feature so we use text-transform to
 *    make the texte uppercase. http://caniuse.com/#search=font-feature
 * 3. Display title attribute value if the device's primary input does not
 *    have hover
 * 4. Do not show title in small-caps
 */

abbr {
    font-kerning: normal; /* [1] */
    text-transform: uppercase; /* [1] [2] */
    font-feature-settings: "kern", "liga", "clig", "calt", "onum", "pnum",
        "smcp", "c2sc"; /* [1] */
    font-variant-caps: all-small-caps; /* [1] */
    font-variant-ligatures: common-ligatures, contextual; /* [1] */
    font-variant-numeric: oldstyle-nums, proportional-nums; /* [1] */
}

@media (hover: none) {

    abbr::after {
        font-size: var(--font-size-reference); /* [3] */
        text-transform: none;
        content: " ("attr(title) ")"; /* [3] */
        font-variant-caps: initial;
    }
}





/* -------------------------------------
   #CODE
   ------------------------------------- */

/**
 * 1. Enable programming ligatures
 */

code,
samp,
var {
    font-family: var(--font-family-monospace);
    font-feature-settings: "dlig"; /* [1] */
    font-variant-numeric: tabular-nums;
    hanging-punctuation: none;
}

code,
samp {
    font-size: var(--font-size-smaller);
}

:not(pre) > code {
    color: var(--color-gray-shade-1);

    background-color: var(--color-gray-shade-5);
    padding: var(--text-box);
}

@media (prefers-color-scheme: dark) {

    :not(pre) > code {
        color: var(--color-gray-shade-6);

        background-color: var(--color-gray-shade-2);
    }
}

/**
 * Make code selectable
 *
 * This apply to text directly in `<code>` and things like `<code><span>`
 */
code::selection,
code ::selection {
    color: var(--color-gray-shade-6);

    background-color: var(--color-gray-shade-1);
}

samp {
    color: var(--color-gray-shade-2);
}





/* -------------------------------------
   #MARK
   ------------------------------------- */

mark {
    color: var(--color-gray-shade-1);

    background-color: var(--color-gray-shade-6);
}
